{"created_by":"Tampermonkey","version":"1","scripts":[{"name":"THT Lichess Bot","options":{"check_for_updates":false,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_powerful_this":null,"sandbox":null,"noframes":null,"unwrap":null,"run_at":null,"tab_types":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["https://lichess.org/*"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":["localhost"],"orig_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-idle","orig_noframes":null}},"storage":{"ts":1676832677379,"data":{}},"enabled":true,"position":1,"uuid":"c3f85ff9-7d2e-4407-b983-e217002b971e","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgVEhUIExpY2hlc3MgQm90Ci8vIEBtYXRjaCBodHRwczovL2xpY2hlc3Mub3JnLyoKLy8gQHZlcnNpb24gICAgICAgICAgMS4xCi8vIEBncmFudCBHTS54bWxIdHRwUmVxdWVzdAovLyA9PS9Vc2VyU2NyaXB0PT0KLy8gU2VtcyB0YXJhZsSxbmRhbiBpdGluYXlsYSBrb2RsYW5txLHFn3TEsXIKCmxldCBkYXRhID0gIm5vdF9wbGF5IgpsZXQgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKQpmb3IgKGxldCBpID0gMDsgaSA8IHNjcmlwdHMubGVuZ3RoOyBpKyspewoJaWYgKHNjcmlwdHNbaV0uaW5uZXJUZXh0LmluY2x1ZGVzKCJMaWNoZXNzUm91bmQuYm9vdCIpKXsKCQlsZXQgcmF3X2RhdGEgPSBzY3JpcHRzW2ldLmlubmVyVGV4dC5zdWJzdHJpbmcoNDEsc2NyaXB0c1tpXS5pbm5lclRleHQubGVuZ3RoLTMpCgkJZGF0YSA9IEpTT04ucGFyc2UocmF3X2RhdGEpLmRhdGEKCQlicmVhawoJfQp9CgppZiAoZGF0YSA9PSAibm90X3BsYXkiKXsKCWNvbnNvbGUubG9nKCJXZWxjb21lISBFbnRlciBhIGdhbWUgdG8gY29udHJvbCB0aGUgYm90XG5cbkd1aWRlOlxuICBBbHQrYSAtPiBBVVRPIG1vZGVcbiAgQWx0K20gLT4gTUFOVUVMIG1vZGVcbiAgQWx0K3MgLT4gc3RlcHMgaW4gbWFudWFsIG1vZGVcbiAgQWx0K3ggLT4gYW5hbHlzaXMgdGhlIGdhbWUgKGkgZ3Vlc3MgaXQgd2lsbCBiZSB1c2VkIG1vcmUgaW4gbWFudWFsIG1vZGUpXG5cblxuLUNhcmVmdWxseSBjb2RlZCBieSBTZW1zIikKCXJldHVybgp9Cgpjb25zdCBNQVhfREVMQVkgPSAwIC8vIGJ1bmEgMCBkZXJzZW5peiBiw7x0w7xuIGhhbWxlbGVyIGFuxLFuZGEgeWFwxLFsxLFyCmNvbnN0IFNUT0NLX0RFUFRIID0gMTAKCmxldCBjb2xvciA9IGRhdGEucGxheWVyLmNvbG9yCmxldCBwbHkgPSBkYXRhLmdhbWUudHVybnMKCmxvY2FsU3RvcmFnZS5wb3MgPSAiIgpmb3IgKGxldCBpPTE7IGkgIT0gZGF0YS5zdGVwcy5sZW5ndGg7IGkrKyl7CgkvL2RhdGEgZGFuIGTDtm5lbiBkZcSfZXJkZSByb2sgdmFyc2Egc3RvY2tmaXNoIGluIGlzdGVkacSfaSB2ZXJzaXlvbmEgZMO2bsO8xZ90w7xyw7x5b3J1eiBidW51IHlhcG1hbsSxbiBzb2NrZXQgeWFwxLFzxLFuZGFraSBrYWRhciBrb2xheSBvbG1hbWFzxLFuxLFuIHNlYmViaSBkYXRhIG7EsW4gc29ja2V0IHRlbiBkw7ZuZW4gZGF0YSBpbGUgYXluxLEgcm9rIGJpbGdpc2luZSBzYWhpcCBvbG1hbWFzxLEKCS8vZ2VuZSBzb2NrZXQgdGVraW5kZW4gZmFya2zEsSBvbGFyYWsgcHJvbW90aW9uIGRlxJ9lcmluaW4gbW9kaWZpeWUgZWRpbG1lbWVzaW5pbiBzZWJlYmkgaXNlIGJpbGdpbmluIHN0b2NrZmlzaCBpbiBpc3RlZGnEn2kgxZ9la2lsZGUgZMO2bm1lc2ksIG5lZGVuIGJ1IMWfZWtpbGRlIHlhcG3EscWfbGFyIGluYW7EsW4gYmlsbWl5b3J1bQoJaWYgKGRhdGEuc3RlcHNbaV0uc2FuID09ICJPLU8iKQoJCWxvY2FsU3RvcmFnZS5wb3MgKz0gIiAiK2RhdGEuc3RlcHNbaV0udWNpLnJlcGxhY2UoImgiLCJnIikKCWVsc2UgaWYgKGRhdGEuc3RlcHNbaV0uc2FuID09ICJPLU8tTyIpCglsb2NhbFN0b3JhZ2UucG9zICs9ICIgIitkYXRhLnN0ZXBzW2ldLnVjaS5yZXBsYWNlKCJhIiwiYyIpCgllbHNlCgkJbG9jYWxTdG9yYWdlLnBvcyArPSAiICIrZGF0YS5zdGVwc1tpXS51Y2kKfQoKaWYgKCFsb2NhbFN0b3JhZ2UuaGFzT3duUHJvcGVydHkoIk1PREUiKSkKCWxvY2FsU3RvcmFnZS5NT0RFID0gIkFVVE8iLy8gQVVUTywgTUFOVUVMIHwgZGVmYXVsdCBNT0RFIC0+IEFVVE8KCglsZXQgdXJscyA9IHsKCSJ0b3A1IjoiaHR0cDovL2xvY2FsaG9zdDo0NC9nZXRfdG9wNV9tb3ZlIiwKCSJiZXN0X29uZSI6Imh0dHA6Ly9sb2NhbGhvc3Q6NDQvZ2V0X2Jlc3RfbW92ZSIKfQoKbGV0IHBsYXllcl9uYW1lCmlmIChkYXRhLnBsYXllci5oYXNPd25Qcm9wZXJ0eSgidXNlciIpKQoJcGxheWVyX25hbWUgPSBkYXRhLnBsYXllci51c2VyLnVzZXJuYW1lCmVsc2UKCXBsYXllcl9uYW1lID0gIk1hZ2ljIEd1eSIKCmxldCBlbmVteV9uYW1lCmlmIChkYXRhLm9wcG9uZW50Lmhhc093blByb3BlcnR5KCJ1c2VyIikpCgllbmVteV9uYW1lID0gZGF0YS5vcHBvbmVudC51c2VyLnVzZXJuYW1lCmVsc2UgaWYgKGRhdGEub3Bwb25lbnQuYWkgPT0gbnVsbCkKICAgIGVuZW15X25hbWUgPSAixLBtcG9zdGVyIgplbHNlCgllbmVteV9uYW1lID0gImx2bCAiK2RhdGEub3Bwb25lbnQuYWkrIiBhaSIKCmZ1bmN0aW9uIHdob190dXJuKHBseSl7CglsZXQgdHVybgoJaWYgKHBseSUyICE9IDApewoJCXR1cm4gPSAiYmxhY2siCgl9CgllbHNlewoJCXR1cm4gPSAid2hpdGUiCgl9CiAgICByZXR1cm4gdHVybgp9CgpmdW5jdGlvbiBnb19tb3ZlKGJlc3RfbW92ZSl7CglzZXRUaW1lb3V0KCgpPT57CgkJbGljaGVzcy5zb2NrZXQuc2VuZCgibW92ZSIse2I6MSx1OmJlc3RfbW92ZX0se3NpZ246IGxpY2hlc3Muc29ja2V0Ll9zaWduLCBhY2thYmxlOiB0cnVlLCB3aXRoTGFnOiBmYWxzZSwgbWlsbGlzOiA0NjExLjV9KQoJfSwgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKk1BWF9ERUxBWSkqMTAwMCkKfQoKZnVuY3Rpb24gZ2V0X21vdmUoYXJnKXsKCXJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CgkJR00ueG1sSHR0cFJlcXVlc3QoewoJCQltZXRob2Q6ICJQT1NUIiwKCQkJdXJsOiB1cmxzW2FyZ10sCgkJCWRhdGE6InBvcz0iK2xvY2FsU3RvcmFnZS5wb3MudHJpbSgpKyImZGVwdGg9IitTVE9DS19ERVBUSCwKCQkJaGVhZGVyczogewoJCQkJIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiCgkJCX0sCgkJCW9ubG9hZDogZnVuY3Rpb24ocmVzcG9uc2UpIHsKCQkJCXJlc29sdmUocmVzcG9uc2UucmVzcG9uc2VUZXh0KTsKCQkJCX0sCgkJCW9uZXJyb3I6IGZ1bmN0aW9uKGVycm9yKSB7CgkJCQlyZWplY3QoZXJyb3IpOwoJCQl9CgkJfSk7Cgl9KTsKfQoKCmxpY2hlc3Muc29ja2V0LndzLmFkZEV2ZW50TGlzdGVuZXIoIm9wZW4iLCAoZSk9PnsKCS8vQVVUTyBtb2RkYSBzYXlmYSB5w7xrbGVuZGnEn2luZGUgc8SxcmEgYml6ZGV5c2Ugb3RvbWF0aWsgaGFtbGUgeWFwxLF5b3J1eiBidXJhc8SxIHNheWVzaW5kZQoJaWYgKGNvbG9yID09IHdob190dXJuKHBseSkgJiYgbG9jYWxTdG9yYWdlLk1PREUgPT0gIkFVVE8iKXsKCQlnZXRfbW92ZSgiYmVzdF9vbmUiKS50aGVuKGdvX21vdmUpLmNhdGNoKChlcnJvcik9PnsKCQkJY29uc29sZS5sb2coImNhbnQgZ2V0IG1vdmUgZnJvbSBzZXJ2ZXIgZXJyb3ItPiIsIGVycm9yKQoJCX0pCgl9Cn0pCmxpY2hlc3Muc29ja2V0LndzLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLCAoZSkgPT4gewoJbGV0IGRhdCA9IEpTT04ucGFyc2UoZS5kYXRhKQoJbGV0IHVjaSA9ICIiCglpZiAoZGF0Lmhhc093blByb3BlcnR5KCJkIikgJiYgZGF0LmQuaGFzT3duUHJvcGVydHkoInBseSIpKQoJCXBseSA9IGRhdC5kLnBseQoKCWlmIChkYXQudCA9PSAiY3Jvd2QiKXsKCQkvL3NvY2tldCBiYcWfbGF0xLFsZMSxxJ/EsW5kYSBkw7Zuw7x5b3IgdmUgbWHDpyBlc25hc8SxbmRhIG95dW5jdWxhciDEsW4gw6fEsWvEsXAgw6fEsWttYWTEscSfxLFuxLEgZ8O2c3Rlcml5b3IgdmUgc2FuxLFyxLFtIGl6bGV5aWNpIHZhcnNhIG9udSBnw7ZzdGVyaXlvciB7InQiOiJjcm93ZCIsImQiOnsid2hpdGUiOnRydWUsImJsYWNrIjpmYWxzZSwid2F0Y2hlcnMiOnsibmIiOjB9fX0KCQlpZiAocGx5ID09IDApewoJCQkvL295dW51biBiYcWfbGFkxLHEn8SxIGlmYWRlIGVkZXIKCQl9CgoJfQoJZWxzZSBpZiAoZGF0LnQgPT0gIm1vdmUiKXsKCgkJaWYgKGRhdC5kLmhhc093blByb3BlcnR5KCJjYXN0bGUiKSl7CgkJCXVjaSA9IGRhdC5kLmNhc3RsZS5raW5nLmpvaW4oIiIpCgkJfQoJCWVsc2UgaWYgKGRhdC5kLmhhc093blByb3BlcnR5KCJwcm9tb3Rpb24iKSl7CgkJCXVjaSA9IGRhdC5kLnVjaStkYXQuZC5wcm9tb3Rpb24ucGllY2VDbGFzcy5jaGFyQXQoMCkKCQl9CgkJZWxzZQoJCQl1Y2kgPSBkYXQuZC51Y2kKCgkJbG9jYWxTdG9yYWdlLnBvcyArPSAiICIrdWNpIC8vb3l1bnVuIGJhxZ/EsW5kYW4gaXRpYmFyZW4gb3luYW5hIGLDvHTDvG4gaGFtbGVsZXJpIGxvY2Fsc3RvcmFnZSBkZSB0dXR1eW9ydXosIGhlciBveXVuIGJhxZ9sYWTEscSfxLFuZGEgc8SxZsSxcmxhbWFtxLF6IGdlcmVraXlvciDFn2ltZGlsaWsgYsO2eWxlIGJpciDDp8O2esO8bSBidWxkdW0gaGFtbGVsZXJpIGtheWRldG1layBpw6dpbgoKCQlpZiAoY29sb3IgPT0gd2hvX3R1cm4ocGx5KSl7CgkJCWNvbnNvbGUubG9nKGVuZW15X25hbWUrIiAtPiAiK3VjaSkKCQkJaWYgKGxvY2FsU3RvcmFnZS5NT0RFID09ICJBVVRPIil7CgkJCQlnZXRfbW92ZSgiYmVzdF9vbmUiKS50aGVuKGdvX21vdmUpLmNhdGNoKChlcnJvcik9PnsKCQkJCQljb25zb2xlLmxvZygiY2FudCBnZXQgbW92ZSBmcm9tIHNlcnZlciBlcnJvci0+IiwgZXJyb3IpCgkJCQl9KQoJCQl9CgkJfSBlbHNlewoJCQljb25zb2xlLmxvZyhwbGF5ZXJfbmFtZSsiIC0+ICIrdWNpKQoJCX0KCX0KCWVsc2UgaWYgKGRhdC5kID09ICJlbmREYXRhIil7CgkJLy9PeXVuIGJpdHRpxJ9pbmRlIGtpbWluIGthemFuZMSxxJ/EsW7EsSBnw7ZzdGVyaXlvciB7InQiOiJlbmREYXRhIiwidiI6NywiZCI6eyJ3aW5uZXIiOiJibGFjayIsImVycm9yIjp7ImlkIjozMSwibmFtZSI6InJlc2lnbiJ9fX0KCX0KCgp9KQpsZXQga2V5c1ByZXNzZWQgPSB7fTsKZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4gewogICBrZXlzUHJlc3NlZFtldmVudC5rZXldID0gdHJ1ZTsKCiAgIGlmIChrZXlzUHJlc3NlZFsnQWx0J10pIHsKCQlpZiAoa2V5c1ByZXNzZWRbIm0iXSl7CgkJCWxvY2FsU3RvcmFnZS5NT0RFID0gIk1BTlVFTCIKCQkJY29uc29sZS5sb2coIlN3aXRjaGVkIHRvIE1BTlVFTCBtb2RlIikKCQl9CgkJZWxzZSBpZiAoa2V5c1ByZXNzZWRbInMiXSl7CgkJCWlmIChjb2xvciA9PSB3aG9fdHVybihwbHkpICYmIGxvY2FsU3RvcmFnZS5NT0RFID09ICJNQU5VRUwiKXsKCQkJCWdldF9tb3ZlKCJiZXN0X29uZSIpLnRoZW4oZ29fbW92ZSkuY2F0Y2goKGVycm9yKT0+ewoJCQkJCWNvbnNvbGUubG9nKCJjYW50IGdldCBtb3ZlIGZyb20gc2VydmVyIGVycm9yLT4iLCBlcnJvcikKCQkJCX0pCgkJCX0gZWxzZQoJCQkJY29uc29sZS5sb2coIk5vdCB5b3VyIHR1cm4gbXkgZnJpZW5kIikKCQl9CgkJZWxzZSBpZiAoa2V5c1ByZXNzZWRbImEiXSl7CgkJCWxvY2FsU3RvcmFnZS5NT0RFID0gIkFVVE8iCgkJCWNvbnNvbGUubG9nKCJTd2l0Y2hlZCB0byBBVVRPIG1vZGUiKQoJCQlpZiAoY29sb3IgPT0gd2hvX3R1cm4ocGx5KSAmJiBsb2NhbFN0b3JhZ2UuTU9ERSAhPSAiQVVUTyIpewoJCQkJZ2V0X21vdmUoImJlc3Rfb25lIikudGhlbihnb19tb3ZlKS5jYXRjaCgoZXJyb3IpPT57CgkJCQkJY29uc29sZS5sb2coImNhbnQgZ2V0IG1vdmUgZnJvbSBzZXJ2ZXIgZXJyb3ItPiIsIGVycm9yKQoJCQkJfSkKCQkJfQoJCX0KCQllbHNlIGlmIChrZXlzUHJlc3NlZFsieCJdKXsKCQkJZ2V0X21vdmUoInRvcDUiKS50aGVuKGNvbnNvbGUubG9nKS5jYXRjaCgoZXJyb3IpPT57CgkJCQljb25zb2xlLmxvZygiY2FudCBnZXQgbW92ZSBmcm9tIHNlcnZlciBlcnJvci0+IiwgZXJyb3IpCgkJCX0pCgkJfQoJCWVsc2UgaWYgKGtleXNQcmVzc2VkWyJ0Il0pCgkJCWNvbnNvbGUubG9nKCJCb3Qgc2hvcnRjdXQgaXMgd29ya2luZy4iKQogICB9Cn0pOwoKZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoZXZlbnQpID0+IHsKICAgZGVsZXRlIGtleXNQcmVzc2VkW2V2ZW50LmtleV07Cn0pOw=="}]}